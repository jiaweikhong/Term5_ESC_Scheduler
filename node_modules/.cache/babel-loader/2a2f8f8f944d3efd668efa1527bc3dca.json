{"ast":null,"code":"'use strict';\n\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n  return str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n  if (typeof str !== 'string') {\n    return {};\n  }\n\n  str = str.trim().replace(/^(\\?|#|&)/, '');\n\n  if (!str) {\n    return {};\n  }\n\n  return str.split('&').reduce(function (ret, param) {\n    var parts = param.replace(/\\+/g, ' ').split('='); // Firefox (pre 40) decodes `%3D` to `=`\n    // https://github.com/sindresorhus/query-string/pull/37\n\n    var key = parts.shift();\n    var val = parts.length > 0 ? parts.join('=') : undefined;\n    key = decodeURIComponent(key); // missing `=` should be `null`:\n    // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\n    val = val === undefined ? null : decodeURIComponent(val);\n\n    if (!ret.hasOwnProperty(key)) {\n      ret[key] = val;\n    } else if (Array.isArray(ret[key])) {\n      ret[key].push(val);\n    } else {\n      ret[key] = [ret[key], val];\n    }\n\n    return ret;\n  }, {});\n};\n\nexports.stringify = function (obj) {\n  return obj ? Object.keys(obj).sort().map(function (key) {\n    var val = obj[key];\n\n    if (val === undefined) {\n      return '';\n    }\n\n    if (val === null) {\n      return key;\n    }\n\n    if (Array.isArray(val)) {\n      return val.slice().sort().map(function (val2) {\n        return strictUriEncode(key) + '=' + strictUriEncode(val2);\n      }).join('&');\n    }\n\n    return strictUriEncode(key) + '=' + strictUriEncode(val);\n  }).filter(function (x) {\n    return x.length > 0;\n  }).join('&') : '';\n};","map":null,"metadata":{},"sourceType":"script"}